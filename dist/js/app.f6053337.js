(function(t){function e(e){for(var i,d,a=e[0],r=e[1],c=e[2],u=0,m=[];u<a.length;u++)d=a[u],n[d]&&m.push(n[d][0]),n[d]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],i=!0,a=1;a<o.length;a++){var r=o[a];0!==n[r]&&(i=!1)}i&&(s.splice(e--,1),t=d(d.s=o[0]))}return t}var i={},n={app:0},s=[];function d(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,d),o.l=!0,o.exports}d.m=t,d.c=i,d.d=function(t,e,o){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(d.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)d.d(o,i,function(e){return t[e]}.bind(null,i));return o},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0143":function(t,e,o){},"03b8":function(t,e,o){"use strict";var i=o("48d4"),n=o.n(i);n.a},"0cfb":function(t,e,o){},"0d3f":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",[t.todos?o("draggable",{staticStyle:{"min-height":"5px"},attrs:{move:t.isMovable,options:{draggable:".todo--draggable",group:"todos"}},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.todoList,callback:function(e){t.todoList=e},expression:"todoList"}},t._l(t.todoList,function(e,i){return o("TodoItem",{key:e.id,class:"todo__num-"+i,attrs:{todo:e,nested:t.nested},on:{draggableChange:function(e){return t.$emit("draggableChange",e)}}})}),1):t._e()],1)},n=[],s=(o("c5f6"),o("2de8")),d=o("1980"),a=o.n(d),r={name:"TodoList",props:{parent:[Object,Number],todos:Array,nested:{type:Boolean,default:!0},filter:String},components:{TodoItem:s["default"],draggable:a.a},data:function(){return{isDraggable:!0}},computed:{todoList:{get:function(){var t=this.filter||"all";return this.$todoFilters[t](this.todos)},set:function(t){var e=t.map(function(t){return t.id});this.$store.dispatch("changeOrder",{arr:e,parent:this.parent})}}},methods:{isMovable:function(t){return!t.draggedContext.element.isDraggable}},beforeCreate:function(){this.$options.components.TodoItem=o("2de8").default}},c=r,l=o("2877"),u=Object(l["a"])(c,i,n,!1,null,"08070871",null);e["default"]=u.exports},1438:function(t,e,o){},"206f":function(t,e,o){},"2de8":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo",class:{"todo--draggable":t.isDraggable,"todo--completed":t.todo.completed}},[o("div",{staticClass:"todo__item",class:{"todo--has-subtodos":t.hasSubTodos,"todo--not-nested":!t.nested}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,i=e.target,n=!!i.checked;if(Array.isArray(o)){var s=null,d=t._i(o,s);i.checked?d<0&&t.$set(t.todo,"completed",o.concat([s])):d>-1&&t.$set(t.todo,"completed",o.slice(0,d).concat(o.slice(d+1)))}else t.$set(t.todo,"completed",n)},t.completeChange]}}),t.nested&&t.hasSubTodos?o("div",{staticClass:"show-sub-todos",on:{click:function(e){t.showSubTodos=!t.showSubTodos}}},[o("svg",{staticClass:"icon icon-chevron-down"},[o("use",{attrs:{"xlink:href":"#chevron-down",transform:!t.showSubTodos&&"rotate(-90 10 10)"}})])]):t._e(),t.isEditing?t._e():o("div",{staticClass:"todo__vals normal"},[o("span",{staticClass:"todo__title",class:{"todo__title--main":null===t.todo.parentTodo},attrs:{title:t.todo.title},on:{dblclick:function(e){return t.$store.dispatch("setEditing",t.todo.id)}}},[t._v("\n              "+t._s(t.todo.title)+"\n          ")]),t.todo.timeNeeded>0?o("TimeNeeded",{on:{input:t.timeChange,open:function(e){return t.isDraggable=!e}},model:{value:t.todo.timeNeeded,callback:function(e){t.$set(t.todo,"timeNeeded",e)},expression:"todo.timeNeeded"}}):t._e(),t.todo.dueDate?o("DueDate",{on:{input:t.dueChange,open:function(e){return t.isDraggable=!e}},model:{value:t.todo.dueDate,callback:function(e){t.$set(t.todo,"dueDate",e)},expression:"todo.dueDate"}}):t._e(),o("div",{staticClass:"controls"},[o("div",{staticClass:"controls__btn btn",on:{click:function(e){return t.$store.commit("OPEN_MODAL",t.todo.id)}}},[o("svg",{staticClass:"icon icon-documents"},[o("use",{attrs:{"xlink:href":"#documents"}})])]),t.nested?o("div",{staticClass:"controls__btn btn",on:{click:t.addTodo}},[o("svg",{staticClass:"icon icon-add"},[o("use",{attrs:{"xlink:href":"#add-to-list"}})])]):t._e(),o("div",{staticClass:"controls__btn btn",on:{click:function(e){return t.$store.dispatch("setEditing",t.todo.id)}}},[o("svg",{staticClass:"icon icon-edit"},[o("use",{attrs:{"xlink:href":"#edit"}})])]),o("div",{staticClass:"controls__btn btn",on:{click:t.confirmRemove}},[o("svg",{staticClass:"icon icon-remove"},[o("use",{attrs:{"xlink:href":"#cross"}})])])])],1),t.isEditing?o("EditTodo",{staticClass:"todo__vals",attrs:{input:"title",todoId:t.todo.id,prop:t.todo.title}}):t._e()],1),o("TodoList",{directives:[{name:"show",rawName:"v-show",value:t.nested&&t.showSubTodos,expression:"nested && showSubTodos"}],staticStyle:{"padding-left":"25px"},attrs:{parent:t.todo.id,nested:t.nested,todos:t.$store.getters.subTodos(t.todo.id)},on:{draggableChange:t.changeDraggable}})],1)},n=[],s=o("0d3f"),d=o("9df6"),a=o("5ae2"),r=o("e53e"),c=o("e017"),l=o.n(c),u=o("21a1"),m=o.n(u),p=new l.a({id:"chevron-down",use:"chevron-down-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="chevron-down"><path d="M13.418 7.859c.271-.268.709-.268.978 0s.272.701 0 .969l-3.908 3.83a.697.697 0 0 1-.979 0l-3.908-3.83c-.27-.267-.27-.701 0-.969s.709-.268.978 0L10 11l3.418-3.141z" /></symbol>'}),f=(m.a.add(p),new l.a({id:"documents",use:"documents-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="documents"><path d="M19.398 7.415l-7.444-1.996L10.651.558c-.109-.406-.545-.642-.973-.529L.602 2.461c-.428.114-.686.538-.577.944l3.23 12.051c.109.406.544.643.971.527l3.613-.967-.492 1.838c-.109.406.149.83.577.943l8.11 2.174c.428.115.862-.121.972-.529l2.97-11.084c.108-.406-.15-.83-.578-.943zM1.633 3.631l7.83-2.096 2.898 10.818-7.83 2.096L1.633 3.631zm14.045 14.832L8.864 16.6l.536-2.002 3.901-1.047c.428-.113.688-.537.578-.943l-1.508-5.627 5.947 1.631-2.64 9.851z" /></symbol>'})),h=(m.a.add(f),new l.a({id:"add-to-list",use:"add-to-list-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="add-to-list"><path d="M19.4 9H16V5.6c0-.6-.4-.6-1-.6s-1 0-1 .6V9h-3.4c-.6 0-.6.4-.6 1s0 1 .6 1H14v3.4c0 .6.4.6 1 .6s1 0 1-.6V11h3.4c.6 0 .6-.4.6-1s0-1-.6-1zm-12 0H.6C0 9 0 9.4 0 10s0 1 .6 1h6.8c.6 0 .6-.4.6-1s0-1-.6-1zm0 5H.6c-.6 0-.6.4-.6 1s0 1 .6 1h6.8c.6 0 .6-.4.6-1s0-1-.6-1zm0-10H.6C0 4 0 4.4 0 5s0 1 .6 1h6.8C8 6 8 5.6 8 5s0-1-.6-1z" /></symbol>'})),v=(m.a.add(h),o("2fb0"),o("e7f7"),{name:"TodoItem",components:{EditTodo:d["a"],TodoList:s["default"],TimeNeeded:a["a"],DueDate:r["a"]},props:{todo:Object,nested:{type:Boolean,default:!0}},data:function(){return{isDraggable:!(this.$store.state.editingTodo==this.todo.id),showSubTodos:!this.todo.completed||0==this.todo.subTodos.length}},computed:{isEditing:function(){var t=this.$store.state.editingTodo===this.todo.id;return this.nested?t&&null===this.$store.state.modalTodo:t&&this.$store.state.modalTodo!==this.todo.id},subTodos:function(){return this.$store.getters.subTodos(this.todo.id)},hasSubTodos:function(){return this.todo.subTodos.length>0}},watch:{isEditing:function(t){this.changeDraggable(!t)}},methods:{changeDraggable:function(t){this.isDraggable=t,this.$emit("draggableChange",t)},completeChange:function(){this.$store.dispatch("completeTodo",{id:this.todo.id,complete:this.todo.completed})},addTodo:function(){this.$store.dispatch("createTodo",{title:"",parentTodo:this.todo.id,edit:!0})},timeChange:function(t){this.$store.commit("SET_TIME_NEEDED",{id:this.todo.id,timeNeeded:t})},dueChange:function(t){this.$store.commit("SET_DUE_DATE",{id:this.todo.id,dueDate:t})},confirmRemove:function(){window.confirm("Are you sure?")&&this.$store.dispatch("removeTodo",this.todo.id)}},beforeCreate:function(){this.$options.components.TodoList=o("0d3f").default}}),_=v,T=(o("65d9"),o("2877")),g=Object(T["a"])(_,i,n,!1,null,"015773bb",null);e["default"]=g.exports},"2fb0":function(t,e,o){"use strict";var i=o("e017"),n=o.n(i),s=o("21a1"),d=o.n(s),a=new n.a({id:"edit",use:"edit-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="edit"><path d="M17.561 2.439c-1.442-1.443-2.525-1.227-2.525-1.227L2.21 14.037 1.2 18.799l4.763-1.01L18.789 4.966c-.001 0 .216-1.083-1.228-2.527zM5.68 17.217l-1.624.35c-.156-.293-.345-.586-.69-.932s-.639-.533-.932-.691l.35-1.623.47-.469s.883.018 1.881 1.016c.997.996 1.016 1.881 1.016 1.881l-.471.468z" /></symbol>'});d.a.add(a)},4460:function(t,e,o){"use strict";var i=o("206f"),n=o.n(i);n.a},"48d4":function(t,e,o){},"4c61":function(t,e,o){"use strict";var i=o("1438"),n=o.n(i);n.a},"4e2a":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Todos")],1)},s=[],d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todos"},[o("div",{staticClass:"todos__block todos__intro"},[o("h1",{staticClass:"title"},[o("transition",{attrs:{appear:"","appear-active-class":"appear-top appear-title"}},[o("div",{staticClass:"title__pre"},[t._v("\n          An awesome\n        ")])]),o("transition",{attrs:{appear:"","appear-active-class":"appear-bottom appear-title"}},[o("div",{staticClass:"title__main"},[t._v("\n          Task Manager\n        ")])])],1),o("transition",{attrs:{appear:"","appear-active-class":"appear-fade-in appear-add"}},[o("AddTodoInput",{staticClass:"add-todo"})],1)],1),o("div",{staticClass:"todos__block todos__main"},[o("transition",{attrs:{appear:"","appear-active-class":"appear-fade-in appear-list"}},[o("div",{staticClass:"todos__list"},[o("div",{staticClass:"list__wrapper"},[o("div",{staticClass:"list"},[o("TodoList",{attrs:{todos:t.todoList,filter:t.filter}})],1)]),o("div",{staticClass:"controls"},[o("div",{staticClass:"controls__container"},[o("ul",{staticClass:"filter"},[o("li",{staticClass:"filter__item",class:{"filter__item--active":"all"==t.filter},on:{click:function(e){t.filter="all"}}},[t._v("\n                All\n              ")]),o("li",{staticClass:"filter__item",class:{"filter__item--active":"active"==t.filter},on:{click:function(e){t.filter="active"}}},[t._v("\n                Active\n              ")]),o("li",{staticClass:"filter__item",class:{"filter__item--active":"completed"==t.filter},on:{click:function(e){t.filter="completed"}}},[t._v("\n                Completed\n              ")])]),o("div",{staticClass:"clear"},[o("div",{staticClass:"clear__button",on:{click:t.localClear}},[t._v("Clear all")])])])])])])],1),t.showModal?o("TodoModal",{attrs:{todo:t.modalTodo}}):t._e()],1)},a=[],r=(o("20d6"),o("75fc")),c=(o("55dd"),o("0d3f")),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],attrs:{placeholder:"Add a todo",type:"text",required:"required"},domProps:{value:t.newTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},u=[],m=(o("c5f6"),{props:{parent:{type:[Number,Object],default:null},edit:{type:Boolean,default:!1}},data:function(){return{newTitle:""}},methods:{addTodo:function(){var t=this.newTitle;""!=t&&(this.$store.dispatch("createTodo",{title:t,parentTodo:this.parent,edit:this.edit}),this.newTitle="")}}}),p=m,f=(o("4c61"),o("2877")),h=Object(f["a"])(p,l,u,!1,null,"4cc9c0eb",null),v=h.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[o("div",{ref:"modal",staticClass:"modal__wrapper",on:{mousedown:t.close}},[o("div",{staticClass:"modal__container"},[o("div",{staticClass:"modal__row modal__main"},[o("div",{staticClass:"modal__title"},[t.isEditing&&"title"==t.editingField?t._e():o("div",{staticClass:"todo-btn__container"},[o("h2",{staticClass:"title modal__field-name",on:{dblclick:function(e){t.isEditing="title"}}},[t._v("\n                  "+t._s(t.todo.title)+"\n                ")]),o("div",{staticClass:"modal-btn btn"},[o("svg",{staticClass:"icon icon-edit btn__icon",on:{click:function(e){t.isEditing="title"}}},[o("use",{attrs:{"xlink:href":"#edit"}})])])]),t.isEditing&&"title"==t.editingField?o("EditTodo",{attrs:{prop:t.todo.title,input:t.editingField,todoId:t.todo.id}}):t._e()],1),o("div",{staticClass:"modal__close modal-btn btn",on:{click:function(e){return t.$store.commit("CLOSE_MODAL")}}},[o("svg",{staticClass:"icon icon-close btn__icon"},[o("use",{attrs:{"xlink:href":"#cross"}})])])]),o("div",{staticClass:"modal__row"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,i=e.target,n=!!i.checked;if(Array.isArray(o)){var s=null,d=t._i(o,s);i.checked?d<0&&t.$set(t.todo,"completed",o.concat([s])):d>-1&&t.$set(t.todo,"completed",o.slice(0,d).concat(o.slice(d+1)))}else t.$set(t.todo,"completed",n)},t.completeChange]}}),t.todo.completed?o("span",[t._v("Completed ("+t._s(t.completedDate)+")")]):o("span",[t._v("In progress")])]),o("div",{staticClass:"modal__row"},[o("TimeNeeded",{attrs:{extended:!0},on:{input:t.timeChange},model:{value:t.todo.timeNeeded,callback:function(e){t.$set(t.todo,"timeNeeded",e)},expression:"todo.timeNeeded"}}),o("DueDate",{attrs:{extended:!0},on:{input:t.dueChange},model:{value:t.todo.dueDate,callback:function(e){t.$set(t.todo,"dueDate",e)},expression:"todo.dueDate"}})],1),o("div",{staticClass:"modal__row"},[o("div",{staticClass:"todo-btn__container"},[o("h3",{staticClass:"modal__field-name"},[t._v("Description")]),t.isEditing&&"description"==t.editingField?t._e():o("div",{staticClass:"modal-btn btn",on:{click:function(e){t.isEditing="description"}}},[o("svg",{staticClass:"icon icon-edit btn__icon"},[o("use",{attrs:{"xlink:href":"#edit"}})])])]),t.isEditing&&"description"==t.editingField?t._e():o("div",{staticClass:"description"},[t._v("\n              "+t._s(t.todo.description||"Add a description")+"\n            ")]),t.isEditing&&"description"==t.editingField?o("EditTodo",{attrs:{prop:t.todo.description,input:t.editingField,todoId:t.todo.id}}):t._e()],1),o("div",{staticClass:"modal__row"},[o("h3",{staticClass:"modal__field-name"},[t._v("Child todos")]),o("TodoList",{attrs:{todos:t.$store.getters.subTodos(t.todo.id),nested:!1}}),o("AddTodoInput",{attrs:{parent:t.todo.id}})],1),null!==t.todo.parentTodo?o("div",{staticClass:"modal__row"},[o("h3",{staticClass:"modal__field-name"},[t._v("Parent Todo")]),o("div",{staticClass:"todo-btn__container"},[o("TodoItem",{attrs:{todo:t.$store.getters.todoParent(t.todo.id),nested:!1}})],1)]):t._e()])])])},T=[],g=o("e53e"),b=o("2de8"),E=o("5ae2"),C=o("bbc0"),O=o("9df6"),w=o("1315"),D=(o("2fb0"),o("e7f7"),{name:"TodoModal",components:{DueDate:g["a"],TimeNeeded:E["a"],TodoButton:C["a"],EditTodo:O["a"],TodoList:c["default"],TodoItem:b["default"],AddTodoInput:v},props:{todo:Object,editField:String},data:function(){return{currTodo:this.todo,editingField:""}},computed:{isEditing:{get:function(){var t=this.$store.state.editingTodo==this.todo.id&&this.$store.state.modalTodo===this.todo.id;return t},set:function(t){this.$store.dispatch("setEditing",this.todo.id),this.editingField=t}},filteredTodos:function(){return i["a"].prototype.$todoFilters["all"](this.todo.subTodos)},completedDate:function(){var t=w["DateTime"].fromJSDate(this.todo.completedAt).toLocaleString();return t}},methods:{close:function(t){t.target==this.$refs.modal&&this.$store.commit("CLOSE_MODAL")},timeChange:function(t){this.$store.commit("SET_TIME_NEEDED",{id:this.todo.id,timeNeeded:t})},dueChange:function(t){this.$store.commit("SET_DUE_DATE",{id:this.todo.id,dueDate:t})},completeChange:function(){this.$store.dispatch("completeTodo",{id:this.todo.id,complete:this.todo.completed})}}}),k=D,x=(o("7281"),Object(f["a"])(k,_,T,!1,null,"37becc5c",null)),y=x.exports;i["a"].prototype.$todoFilters={all:function(t){return Object(r["a"])(t).sort(function(t,e){var o=t.completed,i=e.completed;if(!o&&!i)return 0;if(o&&!i)return 1;if(i&&!o)return-1;if(o&&i){var n=new Date(t.completedAt).getTime(),s=new Date(e.completedAt).getTime();return n==s?0:n<s?1:-1}})},active:function(t){return t.filter(function(t){return!t.completed})},completed:function(t){return t.filter(function(t){return t.completed})}};var $={name:"Todos",components:{AddTodoInput:v,TodoModal:y,TodoList:c["default"]},data:function(){return{filter:"all"}},computed:{showModal:function(){return null!==this.$store.state.modalTodo},modalTodo:function(){return this.$store.state.todos[this.$store.state.modalTodo]},todoList:function(){return this.$store.getters.todoList}},methods:{localClear:function(){confirm("Are you sure?")&&(this.$store.commit("REMOVE_ALL"),localStorage.clear())},logTodos:function(){console.log("TODOS",this.todos)},isMovable:function(t){return!t.draggedContext.element.isEditing},cancelDraggable:function(){this.isDraggable=!1},allowDraggable:function(){this.isDraggable=!0},confirmRemoveTodo:function(t){window.confirm("Are you sure?")&&this.removeTodo(t)},removeTodo:function(t){var e=this.todos.findIndex(function(e){return e.id===t});this.todos.splice(e,1)}},beforeCreate:function(){(function(){if(!(this.$store.state.todoList.length>0)){var t={title:"Figure out how everything works",parentTodo:null,timeNeeded:3};this.$store.dispatch("createTodo",t);var e=0,o={title:"You can create unlimited subtodos",parentTodo:e};this.$store.dispatch("createTodo",o);var i={title:"Check out how buttons works",parentTodo:1};this.$store.dispatch("createTodo",i);var n={title:"Completed todos are auto-sorted",parentTodo:1};this.$store.dispatch("createTodo",n),this.$store.dispatch("completeTodo",{id:3,complete:!0});var s={title:"You can also drag and drop todos",parentTodo:e};this.$store.dispatch("createTodo",s);var d={title:"The data is auto-saved in your browser",parentTodo:e};this.$store.dispatch("createTodo",d),this.$store.dispatch("completeTodo",{id:5,complete:!0})}}).call(this)}},S=$,M=(o("746b"),Object(f["a"])(S,d,a,!1,null,"36f02302",null)),L=M.exports,N={name:"app",components:{Todos:L}},A=N,I=(o("cf25"),Object(f["a"])(A,n,s,!1,null,null,null)),P=I.exports,B=o("3be2"),R=o.n(B),j=(o("6762"),o("2fdb"),o("ac6a"),o("cebc")),H=o("d225"),z=o("2f62"),F=o("0e44");i["a"].use(z["a"]);var V=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.title,i=void 0===o?"":o,n=e.description,s=void 0===n?"":n,d=e.completed,a=void 0!==d&&d,r=e.dueDate,c=void 0===r?null:r,l=e.timeNeeded,u=void 0===l?0:l,m=e.completedAt,p=void 0===m?null:m,f=e.parentTodo,h=void 0===f?null:f;Object(H["a"])(this,t),this.title=i,this.description=s,this.completed=a,this.dueDate=c,this.timeNeeded=u,this.completedAt=p,this.createdAt=new Date,this.parentTodo=h,this.subTodos=[]};function U(t,e){var o=t.todos[e.id],i=e.complete;o.completed=i,o.completedAt=i?new Date:null}var G=new z["a"].Store({state:{todos:{},todoList:[],todoIdCounter:0,editingTodo:null,modalTodo:null},mutations:{CREATE_TODO:function(t,e){i["a"].set(t.todos,e.id,e)},ADD_TODO_TO_LIST:function(t,e){t.todoList.push(e)},ADD_TODO_TO_SUBTODOS:function(t,e){t.todos[e.toId].subTodos.push(e.id)},INC_TODO_ID_COUNTER:function(t){t.todoIdCounter++},EDIT_TODO:function(t,e){if(t.todos[e.id]){var o=t.todos[e.id],n=Object(j["a"])({},o,e.params);i["a"].set(t.todos,e.id,n)}},SET_TIME_NEEDED:function(t,e){t.todos[e.id].timeNeeded=e.timeNeeded},SET_DUE_DATE:function(t,e){t.todos[e.id].dueDate=e.dueDate},COMPLETE_TODO:function(t,e){return U(t,e)},COMPLETE_SUBTODOS:function(t,e){(function o(i){0!=i.length&&i.forEach(function(i){var n=t.todos[i].subTodos;U(t,{complete:e.complete,id:i}),o(n)})})(e.subTodos)},CHECK_COMPLETE_TODOS_PARENTS:function(t,e){var o=e.id,i=e.parentId,n=void 0!==o?t.todos[o].parentTodo:i;null!==n&&function e(o){var i=t.todos[o],n=i.subTodos.every(function(e){return t.todos[e].completed});0!==i.subTodos.length&&(i.completed=n,i.completedAt=n?new Date:null,null!==i.parentTodo&&e(i.parentTodo))}(n)},REMOVE_TODO_FROM_LIST:function(t,e){if(t.todoList.includes(e)){var o=t.todoList.indexOf(e);o>-1&&t.todoList.splice(o,1)}},REMOVE_TODO_FROM_PARENT:function(t,e){var o=t.todos[e];if(null!==o.parentTodo){var i=t.todos[o.parentTodo].subTodos.indexOf(e);i>-1&&t.todos[o.parentTodo].subTodos.splice(i,1)}},REMOVE_TODO:function(t,e){t.todos[e];(function e(o){var i=t.todos[o];i.subTodos.length>0&&i.subTodos.forEach(function(t){return e(t)}),delete t.todos[o]})(e)},REMOVE_ALL:function(t){t.todos={},t.todoList=[],t.todoIdCounter=0,t.editingTodo=null},CHANGE_ORDER:function(t,e){void 0===e.parent?t.todoList=e.arr:t.todos[e.parent].subTodos=e.arr,e.arr.forEach(function(o){var i=t.todos[o];i.parentTodo=void 0!==e.parent?e.parent:null})},SET_EDITING:function(t,e){t.editingTodo=e},UNSET_EDITING:function(t){t.editingTodo=null},OPEN_MODAL:function(t,e){t.modalTodo=e},CLOSE_MODAL:function(t){t.modalTodo=null}},actions:{createTodo:function(t,e){var o=new V(e),i=t.state.todoIdCounter;o.id=i,t.commit("INC_TODO_ID_COUNTER"),t.commit("CREATE_TODO",o),null===e.parentTodo?t.commit("ADD_TODO_TO_LIST",i):R()(e.parentTodo)&&(t.commit("ADD_TODO_TO_SUBTODOS",{id:i,toId:e.parentTodo}),t.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:e.parentTodo})),e.edit&&t.commit("SET_EDITING",i)},editTodo:function(t,e){void 0!==e.params.title&&0==e.params.title.trim().length&&(t.dispatch("removeTodo",e.id),null!==t.state.modalTodo&&t.commit("CLOSE_MODAL")),t.commit("EDIT_TODO",e)},removeTodo:function(t,e){var o=t.state.todos[e];null!==o.parentTodo?(t.commit("REMOVE_TODO_FROM_PARENT",e),G.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:o.parentTodo})):t.commit("REMOVE_TODO_FROM_LIST",e),t.commit("REMOVE_TODO",e)},removeAll:function(t){t.commit("REMOVE_ALL")},completeTodo:function(t,e){t.commit("COMPLETE_TODO",e);var o=t.state.todos[e.id].subTodos;o.length>0&&t.commit("COMPLETE_SUBTODOS",{subTodos:o,complete:e.complete}),t.commit("CHECK_COMPLETE_TODOS_PARENTS",{id:e.id})},setEditing:function(t,e){t.commit("SET_EDITING",e)},unsetEditing:function(t){t.commit("UNSET_EDITING")},changeOrder:function(t,e){t.commit("CHANGE_ORDER",e),void 0!==e.parent&&t.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:e.parent})}},getters:{todoList:function(t){return t.todoList.map(function(e){return t.todos[e]})},subTodos:function(t){return function(e){return t.todos[e].subTodos.filter(function(e){return t.todos[e]}).map(function(e){return t.todos[e]})}},isEditing:function(t){return function(e){return e===t.editingTodo}},todoParent:function(t){return function(e){var o=t.todos[e].parentTodo;if(null!==o)return t.todos[o]}},hasSubTodos:function(t){return function(e){return t.todos[e].subTodos.length>0}}},plugins:[Object(F["a"])()]}),K=G;i["a"].config.productionTip=!1,new i["a"]({store:K,render:function(t){return t(P)}}).$mount("#app")},"5ae2":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"time-field",class:{"time-field--extended":t.extended}},[t.extended?o("div",{staticClass:"time-field__label"},[t._v("\n    Time Needed\n  ")]):t._e(),o("div",{staticClass:"todo-btn__container",on:{dblclick:t.openModal}},[o("div",{staticClass:"time-field__main time-needed"},[o("svg",{staticClass:"icon time-field__icon"},[o("use",{attrs:{"xlink:href":"#clock"}})]),o("span",{staticClass:"time-field__val"},[t._v(t._s(t.timeStr))])]),t.extended?o("div",{staticClass:"time-btn btn",on:{click:function(e){t.isEditing=!0}}},[o("svg",{staticClass:"icon icon-edit btn__icon",on:{click:function(e){t.isEditing="title"}}},[o("use",{attrs:{"xlink:href":"#edit"}})])]):t._e(),t.isEditing?o("TimeNeededModal",{on:{close:t.closeModal,input:function(e){return t.$emit("input",t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)])},n=[],s=(o("c5f6"),o("bbc0")),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[o("div",{ref:"modal",staticClass:"vdatetime-overlay modal theme-purple",on:{click:t.close}},[o("div",{staticClass:"vdatetime-popup"},[o("div",{staticClass:"vdatetime-popup__header"},[o("div",{staticClass:"header__hours header__time"},[t._v(t._s(t.strHours+" hours"))]),o("div",{staticClass:"header__minutes header__time"},[t._v(t._s(t.strMinutes+" minutes"))])]),o("div",{staticClass:"vdatetime-popup__body time-needed"},[o("div",{staticClass:"time-needed__time"},[o("div",{staticClass:"time__label"},[t._v("\n                    Hours\n                  ")]),o("div",{staticClass:"time__input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],ref:"hours",attrs:{type:"number",placeholder:"0"},domProps:{value:t.hours},on:{input:[function(e){e.target.composing||(t.hours=e.target.value)},t.validateHours]}})])]),o("div",{staticClass:"time-needed__time"},[o("div",{staticClass:"time__label"},[t._v("\n                    Minutes\n                  ")]),o("div",{staticClass:"time__input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.minutes},on:{input:[function(e){e.target.composing||(t.minutes=e.target.value)},t.validateMinutes]}})])])]),o("div",{staticClass:"vdatetime-popup__actions"},[o("div",{staticClass:"vdatetime-popup__actions__button vdatetime-popup__actions__button--cancel",on:{click:function(e){return t.$emit("close")}}},[t._v("\n              Cancel\n            ")]),o("div",{staticClass:"vdatetime-popup__actions__button vdatetime-popup__actions__button--confirm",on:{click:t.submit}},[t._v("\n              Ok\n            ")])])])])])},a=[],r=o("e814"),c=o.n(r),l={props:["value"],data:function(){return{hours:this.parseHours(this.value),minutes:this.parseMins(this.value)}},computed:{strHours:function(){return this.getStrTime(this.hours)},strMinutes:function(){return this.getStrTime(this.minutes)}},methods:{parseMins:function(t){if(t&&!isNaN(t)){var e=c()(t)%60;return e>0?e:void 0}},parseHours:function(t){if(t&&!isNaN(t)&&0!=t){var e=Math.floor(c()(t)/60);return e>0?e:void 0}},validateHours:function(){this.hours=this.hours>1e4?1e4:this.hours<0?0:c()(this.hours)},validateMinutes:function(){this.minutes=this.minutes>59?59:this.minutes<0?0:c()(this.minutes)},getStrTime:function(t){return!t||isNaN(t)?0:t},calculateMinutes:function(){var t=this.getStrTime(this.hours),e=this.getStrTime(this.minutes);return 60*t+e},submit:function(){this.$emit("input",this.calculateMinutes()),this.$emit("close")},close:function(t){t.target==this.$refs.modal&&this.$emit("close")}},mounted:function(){this.$refs.hours.focus()}},u=l,m=(o("4460"),o("2877")),p=Object(m["a"])(u,d,a,!1,null,"d5df3d0a",null),f=p.exports,h=o("8f14"),v=o.n(h),_=o("e017"),T=o.n(_),g=o("21a1"),b=o.n(g),E=new T.a({id:"clock",use:"clock-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="clock"><path d="M10 .4C4.697.4.399 4.698.399 10A9.6 9.6 0 0 0 10 19.601c5.301 0 9.6-4.298 9.6-9.601S15.301.4 10 .4zm-.001 17.2a7.6 7.6 0 1 1 0-15.2 7.6 7.6 0 1 1 0 15.2zM11 9.33V4H9v6.245l-3.546 2.048 1 1.732 4.115-2.377A.955.955 0 0 0 11 10.9v-.168l4.24-4.166a6.584 6.584 0 0 0-.647-.766L11 9.33z" /></symbol>'}),C=(b.a.add(E),o("2fb0"),v.a.humanizer({language:"shortEn",languages:{shortEn:{h:function(){return"h"},m:function(){return"m"}}}})),O={components:{TodoButton:s["a"],TimeNeededModal:f},props:{value:Number,extended:Boolean},data:function(){return{time:this.value,isEditing:!1}},computed:{timeStr:function(){return this.value&&0!=this.value?C(6e4*this.value,{units:["h","m"]}):"? hours"}},methods:{openModal:function(){this.isEditing=!0,this.$emit("open",!0)},closeModal:function(t){this.isEditing=!1,this.$emit("open",!1)}}},w=O,D=(o("8446"),Object(m["a"])(w,i,n,!1,null,"3ac99ae0",null));e["a"]=D.exports},6014:function(t,e,o){},"65d9":function(t,e,o){"use strict";var i=o("9756"),n=o.n(i);n.a},7281:function(t,e,o){"use strict";var i=o("9d3f"),n=o.n(i);n.a},"746b":function(t,e,o){"use strict";var i=o("0143"),n=o.n(i);n.a},8446:function(t,e,o){"use strict";var i=o("b6b2"),n=o.n(i);n.a},9756:function(t,e,o){},"9d3f":function(t,e,o){},"9df6":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit"},["title"==t.input?o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.editProp,expression:"editProp",modifiers:{trim:!0}}],ref:"edit",staticClass:"edit__field",attrs:{placeholder:"Add a title",type:"text"},domProps:{value:t.editProp},on:{blur:[t.onEditBlur,function(e){return t.$forceUpdate()}],keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditTodo(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditTodo(e)}],input:function(e){e.target.composing||(t.editProp=e.target.value.trim())}}}):t._e(),"description"==t.input?o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.editProp,expression:"editProp",modifiers:{trim:!0}}],ref:"edit",staticClass:"edit__field description",attrs:{placeholder:"Add a description"},domProps:{value:t.editProp},on:{blur:[t.onEditBlur,function(e){return t.$forceUpdate()}],keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditTodo(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditTodo(e)}],input:function(e){e.target.composing||(t.editProp=e.target.value.trim())}}}):t._e(),o("div",{staticClass:"controls"},[o("div",{staticClass:"controls__btn",on:{click:t.finishEditTodo}},[o("svg",{staticClass:"icon icon-ok"},[o("use",{attrs:{"xlink:href":"#check"}})])]),o("div",{staticClass:"controls__btn",on:{click:t.cancelEditTodo}},[o("svg",{staticClass:"icon icon-remove"},[o("use",{attrs:{"xlink:href":"#cross"}})])])])])},n=[],s=o("bd86"),d=o("e017"),a=o.n(d),r=o("21a1"),c=o.n(r),l=new a.a({id:"check",use:"check-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="check"><path d="M8.294 16.998c-.435 0-.847-.203-1.111-.553L3.61 11.724a1.392 1.392 0 0 1 .27-1.951 1.392 1.392 0 0 1 1.953.27l2.351 3.104 5.911-9.492c.407-.652 1.267-.852 1.921-.445s.854 1.266.446 1.92L9.478 16.34a1.39 1.39 0 0 1-1.12.656c-.022.002-.042.002-.064.002z" /></symbol>'}),u=(c.a.add(l),o("e7f7"),{props:["todoId","prop","input","placeholder"],data:function(){return{editProp:this.prop,isEditing:!0}},methods:{checkFinishTimeout:function(){this.editBlurTimeoutRunning&&(clearTimeout(this.editBlurTimeout),this.editBlurTimeoutRunning=!1)},cancelEditTodo:function(){this.checkFinishTimeout(),this.$store.dispatch("unsetEditing")},finishEditTodo:function(){this.checkFinishTimeout();var t=Object(s["a"])({},this.input,this.editProp);this.$store.dispatch("editTodo",{id:this.todoId,params:t}),this.$store.dispatch("unsetEditing"),this.isEditing=!1},onEditBlur:function(){if(this.isEditing){var t=this;this.editBlurTimeoutRunning=!0,this.editBlurTimeout=setTimeout(function(){t.editBlurTimeoutRunning=!1,t.finishEditTodo()},300)}}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.edit.focus()})}}),m=u,p=(o("fabe"),o("2877")),f=Object(p["a"])(m,i,n,!1,null,"55374e2e",null);e["a"]=f.exports},b6b2:function(t,e,o){},bbc0:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"todo-btn__btn",attrs:{type:"button"}},[t._v(t._s(t.btn))])},n=[],s={name:"TodoButton",props:{type:String},computed:{btn:function(){switch(this.type){case"edit":return"|";default:}}}},d=s,a=(o("03b8"),o("2877")),r=Object(a["a"])(d,i,n,!1,null,null,null);e["a"]=r.exports},cebf:function(t,e,o){"use strict";var i=o("4e2a"),n=o.n(i);n.a},cf25:function(t,e,o){"use strict";var i=o("0cfb"),n=o.n(i);n.a},e53e:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"time-field",class:{"time-field--extended":t.extended}},[t.extended?o("div",{staticClass:"time-field__label"},[t._v("\n    Due Date\n  ")]):t._e(),o("div",{staticClass:"todo-btn__container"},[o("div",{staticClass:"time-field__main due-date",on:{dblclick:t.openDatetime}},[o("svg",{staticClass:"icon time-field__icon"},[o("use",{attrs:{"xlink:href":"#calendar"}})]),o("span",{staticClass:"time-field__val"},[t._v(t._s(t.dateStr))])]),t.extended?o("div",{staticClass:"time-btn btn",on:{click:t.openDatetime}},[o("svg",{staticClass:"icon icon-edit btn__icon"},[o("use",{attrs:{"xlink:href":"#edit"}})])]):t._e(),o("Datetime",{ref:"datetime",staticClass:"theme-purple",attrs:{type:"datetime","input-id":"datetime","minute-step":5,"min-datetime":t.now.toJSON()},on:{input:function(e){return t.$emit("input",t.date)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])},n=[],s=o("bbc0"),d=o("859b"),a=o("8f14"),r=o.n(a),c=(o("d355"),o("e017")),l=o.n(c),u=o("21a1"),m=o.n(u),p=new l.a({id:"calendar",use:"calendar-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="calendar"><path d="M17 3h-1v2h-3V3H7v2H4V3H3c-1.101 0-2 .9-2 2v12c0 1.1.899 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 14H3V9h14v8zM6.5 1h-2v3.5h2V1zm9 0h-2v3.5h2V1z" /></symbol>'}),f=(m.a.add(p),r.a.humanizer({language:"shortEn",languages:{shortEn:{y:function(){return"y"},mo:function(){return"mo"},w:function(){return"w"},d:function(){return"d"},h:function(){return"h"},m:function(){return"m"},s:function(){return"s"},ms:function(){return"ms"}}}})),h={components:{TodoButton:s["a"],Datetime:d["Datetime"]},props:{value:String,extended:Boolean},data:function(){return{date:this.value,now:new Date}},computed:{dateStr:function(){var t=this.value||"Due ?",e=new Date(t)-this.now;if(e<0)return"Past Due";var o=f(e,{delimiter:" ",units:["mo","d","h"],largest:1,round:!0});return"".concat(o," left")}},methods:{openDatetime:function(){document.getElementById("datetime").click()},setWatchIsOpen:function(){var t=this;this.$watch(function(){return t.$refs.datetime.isOpen},function(e){t.$emit("open",e)})}},mounted:function(){this.setWatchIsOpen()}},v=h,_=(o("cebf"),o("2877")),T=Object(_["a"])(v,i,n,!1,null,"56324d40",null);e["a"]=T.exports},e7f7:function(t,e,o){"use strict";var i=o("e017"),n=o.n(i),s=o("21a1"),d=o.n(s),a=new n.a({id:"cross",use:"cross-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="cross"><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" /></symbol>'});d.a.add(a)},fabe:function(t,e,o){"use strict";var i=o("6014"),n=o.n(i);n.a}});
//# sourceMappingURL=app.f6053337.js.map