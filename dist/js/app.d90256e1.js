(function(t){function e(e){for(var i,s,r=e[0],a=e[1],u=e[2],l=0,m=[];l<r.length;l++)s=r[l],n[s]&&m.push(n[s][0]),n[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);c&&c(e);while(m.length)m.shift()();return d.push.apply(d,u||[]),o()}function o(){for(var t,e=0;e<d.length;e++){for(var o=d[e],i=!0,r=1;r<o.length;r++){var a=o[r];0!==n[a]&&(i=!1)}i&&(d.splice(e--,1),t=s(s.s=o[0]))}return t}var i={},n={app:0},d=[];function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=a;d.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"03b8":function(t,e,o){"use strict";var i=o("48d4"),n=o.n(i);n.a},"088a":function(t,e,o){},"0c69":function(t,e,o){},"0cfb":function(t,e,o){},"0d3f":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"list"},[t.todos?o("draggable",{attrs:{move:t.isMovable,options:{draggable:".todo--draggable",group:"todos"}},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.todoList,callback:function(e){t.todoList=e},expression:"todoList"}},t._l(t.todos,function(e,i){return o("TodoItem",{key:e.id,class:"todo__num-"+i,attrs:{todo:e,nested:t.nested},on:{draggableChange:function(e){return t.$emit("draggableChange",e)}}})}),1):t._e()],1)},n=[],d=(o("c5f6"),o("75fc")),s=(o("55dd"),o("2de8")),r=o("1980"),a=o.n(r),u={all:function(t){return Object(d["a"])(t).sort(function(t,e){var o=t.completed,i=e.completed;if(!o&&!i)return 0;if(o&&!i)return 1;if(i&&!o)return-1;if(o&&i){var n=new Date(t.completedAt).getTime(),d=new Date(e.completedAt).getTime();return n==d?0:n<d?1:-1}})},active:function(t){return t.filter(function(t){return!t.completed})},completed:function(t){return t.filter(function(t){return t.completed})}},c={name:"TodoList",props:{parent:[Object,Number],todos:Array,nested:{type:Boolean,default:!0},filter:String},components:{TodoItem:s["default"],draggable:a.a},data:function(){return{isDraggable:!0}},computed:{filteredTodos:function(){var t=this.filter||"all";return u[t](this.todoList)},todoList:{get:function(){return this.todos},set:function(t){var e=t.map(function(t){return t.id});this.$store.dispatch("changeOrder",{arr:e,parent:this.parent})}}},methods:{isMovable:function(t){return!t.draggedContext.element.isDraggable}},beforeCreate:function(){this.$options.components.TodoItem=o("2de8").default}},l=c,m=o("2877"),p=Object(m["a"])(l,i,n,!1,null,"cb5d2ed2",null);e["default"]=p.exports},"2b1f":function(t,e,o){},"2de8":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo",class:{"todo--draggable":t.isDraggable,"todo--completed":t.todo.completed}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,i=e.target,n=!!i.checked;if(Array.isArray(o)){var d=null,s=t._i(o,d);i.checked?s<0&&t.$set(t.todo,"completed",o.concat([d])):s>-1&&t.$set(t.todo,"completed",o.slice(0,s).concat(o.slice(s+1)))}else t.$set(t.todo,"completed",n)},t.completeChange]}}),t.isEditing?t._e():o("div",{staticClass:"normal"},[t.nested&&t.hasSubTodosComputed?o("button",{attrs:{type:"button"},on:{click:function(e){t.showSubTodos=!t.showSubTodos}}},[t._v("\n              "+t._s(t.showSubTodos?"-":"+")+"\n        ")]):t._e(),o("label",[t._v(t._s(""+t.todo.title))]),t.todo.timeNeeded>0?o("TimeNeeded",{on:{input:t.timeChange,open:function(e){return t.isDraggable=!e}},model:{value:t.todo.timeNeeded,callback:function(e){t.$set(t.todo,"timeNeeded",e)},expression:"todo.timeNeeded"}}):t._e(),t.todo.dueDate?o("DueDate",{on:{input:t.dueChange,open:function(e){return t.isDraggable=!e}},model:{value:t.todo.dueDate,callback:function(e){t.$set(t.todo,"dueDate",e)},expression:"todo.dueDate"}}):t._e(),o("button",{attrs:{type:"button"},on:{click:t.addTodo}},[t._v("Add")]),o("button",{attrs:{type:"button"},on:{click:function(e){return t.$store.dispatch("setEditing",t.todo.id)}}},[t._v("Edit")]),o("button",{attrs:{type:"button"},on:{click:function(e){return t.$store.commit("OPEN_MODAL",t.todo.id)}}},[t._v("More")]),o("button",{attrs:{type:"button"},on:{click:t.confirmRemove}},[t._v("X")])],1),t.isEditing?o("EditTodo",{attrs:{input:"title",todoId:t.todo.id,prop:t.todo.title}},[o("button",{attrs:{type:"button"}},[t._v("More")])]):t._e(),o("TodoList",{directives:[{name:"show",rawName:"v-show",value:t.nested&&t.showSubTodos,expression:"nested && showSubTodos"}],attrs:{parent:t.todo.id,nested:t.nested,todos:t.$store.getters.subTodos(t.todo.id)},on:{draggableChange:t.changeDraggable}})],1)},n=[],d=o("59ad"),s=o.n(d),r=o("0d3f"),a=o("9df6"),u=o("5ae2"),c=o("e53e"),l={name:"TodoItem",components:{EditTodo:a["a"],TodoList:r["default"],TimeNeeded:u["a"],DueDate:c["a"]},props:{todo:Object,nested:{type:Boolean,default:!0}},data:function(){return{isDraggable:!(this.$store.state.editingTodo==this.todo.id),showSubTodos:!this.todo.completed}},computed:{isEditing:function(){var t=this.$store.state.editingTodo===this.todo.id;return this.nested?t&&null===this.$store.state.modalTodo:t&&this.$store.state.modalTodo!==this.todo.id},subTodos:function(){return this.$store.getters.subTodos(this.todo.id)},hasSubTodosComputed:function(){return this.todo.subTodos.length>0},time:function(){if(!this.hasSubTodos())return this.todo.timeNeeded;var t=this.todo.subTodos.every(function(t){return!isNaN(t.timeNeeded)&&t.timeNeeded>0});return t?this.todo.subTodos.reduce(function(t,e){return t+s()(e.timeNeeded)},0):""}},watch:{isEditing:function(t){this.changeDraggable(!t)}},methods:{changeDraggable:function(t){this.isDraggable=t,this.$emit("draggableChange",t)},completeChange:function(){this.$store.dispatch("completeTodo",{id:this.todo.id,complete:this.todo.completed})},addTodo:function(){this.$store.dispatch("createTodo",{title:"",parentTodo:this.todo.id,edit:!0})},timeChange:function(t){this.$store.commit("SET_TIME_NEEDED",{id:this.todo.id,timeNeeded:t})},dueChange:function(t){this.$store.commit("SET_DUE_DATE",{id:this.todo.id,dueDate:t})},confirmRemove:function(){window.confirm("Are you sure?")&&this.$store.dispatch("removeTodo",this.todo.id)}},beforeCreate:function(){this.$options.components.TodoList=o("0d3f").default}},m=l,p=(o("b3dc"),o("2877")),f=Object(p["a"])(m,i,n,!1,null,"039d486a",null);e["default"]=f.exports},"486f":function(t,e,o){"use strict";var i=o("f794"),n=o.n(i);n.a},"48d4":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("img",{attrs:{alt:"Vue logo",src:o("cf05")}}),i("Todos")],1)},d=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo__list"},[o("h3",[t._v("TODO List")]),o("AddTodoInput"),o("div",{},t._l(t.$store.state.todos,function(e){return o("div",[t._v("\n      "+t._s(e)+"\n    ")])}),0),o("TodoList",{attrs:{todos:t.$store.getters.todoList,filter:t.filter}}),o("div",{staticClass:"todo__control"},[o("button",{attrs:{type:"button"},on:{click:t.localClear}},[t._v("CLEAR")])]),t.showModal?o("TodoModal",{attrs:{todo:t.modalTodo}}):t._e()],1)},r=[],a=(o("20d6"),o("0d3f")),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo__main-input"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],attrs:{placeholder:"New To-Do",type:"text",required:"required"},domProps:{value:t.newTitle},on:{input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("button",{attrs:{type:"button"},on:{click:t.addTodo}},[t._v("Add")])])},c=[],l=(o("c5f6"),{props:{parent:{type:[Number,Object],default:null},edit:{type:Boolean,default:!1}},data:function(){return{newTitle:""}},methods:{addTodo:function(){var t=this.newTitle;""!=t&&(this.$store.dispatch("createTodo",{title:t,parentTodo:this.parent,edit:this.edit}),this.newTitle="")}}}),m=l,p=o("2877"),f=Object(p["a"])(m,u,c,!1,null,"79f21ac6",null),h=f.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[o("div",{ref:"modal",staticClass:"modal__wrapper",on:{mousedown:t.close}},[o("div",{staticClass:"modal__container"},[o("div",{staticClass:"modal__row modal__title"},[t.isEditing&&"title"==t.editingField?t._e():o("div",{staticClass:"todo-btn__container"},[o("h2",{staticClass:"title"},[t._v(t._s(t.todo.title))]),o("TodoButton",{attrs:{type:"edit"},nativeOn:{click:function(e){t.isEditing="title"}}})],1),t.isEditing&&"title"==t.editingField?o("EditTodo",{attrs:{prop:t.todo.title,input:t.editingField,todoId:t.todo.id}}):t._e(),o("span",{on:{click:function(e){return t.$store.commit("CLOSE_MODAL")}}},[t._v("X")])],1),o("div",{staticClass:"modal__row"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,i=e.target,n=!!i.checked;if(Array.isArray(o)){var d=null,s=t._i(o,d);i.checked?s<0&&t.$set(t.todo,"completed",o.concat([d])):s>-1&&t.$set(t.todo,"completed",o.slice(0,s).concat(o.slice(s+1)))}else t.$set(t.todo,"completed",n)},t.completeChange]}}),t.todo.completed?o("span",[t._v("Completed ("+t._s(t.completedDate)+")")]):o("span",[t._v("In progress")])]),o("div",{staticClass:"modal__row"},[o("TimeNeeded",{attrs:{extended:!0},on:{input:t.timeChange},model:{value:t.todo.timeNeeded,callback:function(e){t.$set(t.todo,"timeNeeded",e)},expression:"todo.timeNeeded"}}),o("DueDate",{attrs:{extended:!0},on:{input:t.dueChange},model:{value:t.todo.dueDate,callback:function(e){t.$set(t.todo,"dueDate",e)},expression:"todo.dueDate"}})],1),o("div",{staticClass:"modal__row"},[o("div",{staticClass:"todo-btn__container"},[o("h3",{staticClass:"title"},[t._v("Description")]),t.isEditing&&"description"==t.editingField?t._e():o("TodoButton",{attrs:{type:"edit"},nativeOn:{click:function(e){t.isEditing="description"}}})],1),t.isEditing&&"description"==t.editingField?t._e():o("div",[t._v("\n              "+t._s(t.todo.description||"Add a description")+"\n            ")]),t.isEditing&&"description"==t.editingField?o("EditTodo",{attrs:{prop:t.todo.description,input:t.editingField,todoId:t.todo.id}}):t._e()],1),o("div",{staticClass:"modal__row"},[o("h3",{staticClass:"title"},[t._v("Child todos")]),o("TodoList",{attrs:{todos:t.$store.getters.subTodos(t.todo.id),nested:!1}}),o("AddTodoInput",{attrs:{parent:t.todo.id}})],1),null!==t.todo.parentTodo?o("div",{staticClass:"modal__row"},[o("h3",{staticClass:"title"},[t._v("Parent Todo")]),o("div",{staticClass:"todo-btn__container"},[o("TodoItem",{attrs:{todo:t.$store.getters.todoParent(t.todo.id),nested:!1}})],1)]):t._e()])])])},v=[],T=o("e53e"),g=o("2de8"),b=o("5ae2"),E=o("bbc0"),O=o("9df6"),D=o("1315"),C={name:"TodoModal",components:{DueDate:T["a"],TimeNeeded:b["a"],TodoButton:E["a"],EditTodo:O["a"],TodoList:a["default"],TodoItem:g["default"],AddTodoInput:h},props:{todo:Object,editField:String},data:function(){return{currTodo:this.todo,editingField:""}},computed:{isEditing:{get:function(){var t=this.$store.state.editingTodo==this.todo.id&&this.$store.state.modalTodo===this.todo.id;return t},set:function(t){this.$store.dispatch("setEditing",this.todo.id),this.editingField=t}},filteredTodos:function(){return i["a"].prototype.$todoFilters["all"](this.todo.subTodos)},completedDate:function(){var t=D["DateTime"].fromJSDate(this.todo.completedAt).toLocaleString();return t}},methods:{close:function(t){t.target==this.$refs.modal&&this.$store.commit("CLOSE_MODAL")},timeChange:function(t){this.$store.commit("SET_TIME_NEEDED",{id:this.todo.id,timeNeeded:t})},dueChange:function(t){this.$store.commit("SET_DUE_DATE",{id:this.todo.id,dueDate:t})},completeChange:function(){this.$store.dispatch("completeTodo",{id:this.todo.id,complete:this.todo.completed})}}},$=C,y=(o("9842"),Object(p["a"])($,_,v,!1,null,"66503d1e",null)),N=y.exports,S={name:"Todos",components:{AddTodoInput:h,TodoModal:N,TodoList:a["default"]},data:function(){return{filter:"all"}},computed:{showModal:function(){return null!==this.$store.state.modalTodo},modalTodo:function(){return this.$store.state.todos[this.$store.state.modalTodo]}},methods:{localClear:function(){localStorage.clear()},logTodos:function(){console.log("TODOS",this.todos)},isMovable:function(t){return!t.draggedContext.element.isEditing},cancelDraggable:function(){this.isDraggable=!1},allowDraggable:function(){this.isDraggable=!0},confirmRemoveTodo:function(t){window.confirm("Are you sure?")&&this.removeTodo(t)},removeTodo:function(t){var e=this.todos.findIndex(function(e){return e.id===t});this.todos.splice(e,1)}}},w=S,k=(o("baf6"),o("e2b1"),Object(p["a"])(w,s,r,!1,null,"75e8b2bb",null)),x=k.exports,M={name:"app",components:{Todos:x}},A=M,I=(o("cf25"),Object(p["a"])(A,n,d,!1,null,null,null)),L=I.exports,P=o("3be2"),R=o.n(P),j=(o("6762"),o("2fdb"),o("ac6a"),o("cebc")),B=o("d225"),F=o("2f62"),H=o("0e44");i["a"].use(F["a"]);var U=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.title,i=void 0===o?"":o,n=e.description,d=void 0===n?"":n,s=e.completed,r=void 0!==s&&s,a=e.dueDate,u=void 0===a?null:a,c=e.timeNeeded,l=void 0===c?0:c,m=e.completedAt,p=void 0===m?null:m,f=e.parentTodo,h=void 0===f?null:f;Object(B["a"])(this,t),this.title=i,this.description=d,this.completed=r,this.dueDate=u,this.timeNeeded=l,this.completedAt=p,this.createdAt=new Date,this.parentTodo=h,this.subTodos=[]};function V(t,e){var o=t.todos[e.id],i=e.complete;o.completed=i,o.completedAt=i?new Date:null}var G=new F["a"].Store({state:{todos:{},todoList:[],todoIdCounter:0,editingTodo:null,modalTodo:null},mutations:{CREATE_TODO:function(t,e){i["a"].set(t.todos,e.id,e)},ADD_TODO_TO_LIST:function(t,e){t.todoList.push(e)},ADD_TODO_TO_SUBTODOS:function(t,e){t.todos[e.toId].subTodos.push(e.id)},INC_TODO_ID_COUNTER:function(t){t.todoIdCounter++},EDIT_TODO:function(t,e){if(t.todos[e.id]){var o=t.todos[e.id],n=Object(j["a"])({},o,e.params);i["a"].set(t.todos,e.id,n)}},SET_TIME_NEEDED:function(t,e){t.todos[e.id].timeNeeded=e.timeNeeded},SET_DUE_DATE:function(t,e){t.todos[e.id].dueDate=e.dueDate},COMPLETE_TODO:function(t,e){return V(t,e)},COMPLETE_SUBTODOS:function(t,e){(function o(i){0!=i.length&&i.forEach(function(i){var n=t.todos[i].subTodos;V(t,{complete:e.complete,id:i}),o(n)})})(e.subTodos)},CHECK_COMPLETE_TODOS_PARENTS:function(t,e){var o=e.id,i=e.parentId,n=void 0!==o?t.todos[o].parentTodo:i;null!==n&&function e(o){var i=t.todos[o],n=i.subTodos.every(function(e){return t.todos[e].completed});i.completed=n,i.completedAt=n?new Date:null,null!==i.parentTodo&&e(i.parentTodo)}(n)},REMOVE_TODO_FROM_LIST:function(t,e){if(t.todoList.includes(e)){var o=t.todoList.indexOf(e);o>-1&&t.todoList.splice(o,1)}},REMOVE_TODO_FROM_PARENT:function(t,e){var o=t.todos[e];if(null!==o.parentTodo){var i=t.todos[o.parentTodo].subTodos.indexOf(e);i>-1&&t.todos[o.parentTodo].subTodos.splice(i,1)}},REMOVE_TODO:function(t,e){t.todos[e];(function e(o){var i=t.todos[o];i.subTodos.length>0&&i.subTodos.forEach(function(t){return e(t)}),delete t.todos[o]})(e)},REMOVE_ALL:function(t){t.todos={},t.todoList=[],t.todoIdCounter=0,t.editingTodo=null},CHANGE_ORDER:function(t,e){void 0===e.parent?t.todoList=e.arr:t.todos[e.parent].subTodos=e.arr,e.arr.forEach(function(o){var i=t.todos[o];i.parentTodo=void 0!==e.parent?e.parent:null})},SET_EDITING:function(t,e){t.editingTodo=e},UNSET_EDITING:function(t){t.editingTodo=null},OPEN_MODAL:function(t,e){t.modalTodo=e},CLOSE_MODAL:function(t){t.modalTodo=null}},actions:{createTodo:function(t,e){var o=new U(e),i=t.state.todoIdCounter;o.id=i,t.commit("INC_TODO_ID_COUNTER"),t.commit("CREATE_TODO",o),null===e.parentTodo?t.commit("ADD_TODO_TO_LIST",i):R()(e.parentTodo)&&(t.commit("ADD_TODO_TO_SUBTODOS",{id:i,toId:e.parentTodo}),t.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:e.parentTodo})),e.edit&&t.commit("SET_EDITING",i)},editTodo:function(t,e){t.commit("EDIT_TODO",e)},removeTodo:function(t,e){var o=t.state.todos[e];null!==o.parentTodo?(t.commit("REMOVE_TODO_FROM_PARENT",e),G.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:o.parentTodo})):t.commit("REMOVE_TODO_FROM_LIST",e),t.commit("REMOVE_TODO",e)},removeAll:function(t){t.commit("REMOVE_ALL")},completeTodo:function(t,e){t.commit("COMPLETE_TODO",e);var o=t.state.todos[e.id].subTodos;o.length>0&&t.commit("COMPLETE_SUBTODOS",{subTodos:o,complete:e.complete}),t.commit("CHECK_COMPLETE_TODOS_PARENTS",{id:e.id})},setEditing:function(t,e){t.commit("SET_EDITING",e)},unsetEditing:function(t){t.commit("UNSET_EDITING")},changeOrder:function(t,e){t.commit("CHANGE_ORDER",e),void 0!==e.parent&&t.commit("CHECK_COMPLETE_TODOS_PARENTS",{parentId:e.parent})}},getters:{todoList:function(t){return t.todoList.map(function(e){return t.todos[e]})},subTodos:function(t){return function(e){return t.todos[e].subTodos.filter(function(e){return t.todos[e]}).map(function(e){return t.todos[e]})}},isEditing:function(t){return function(e){return e===t.editingTodo}},todoParent:function(t){return function(e){var o=t.todos[e].parentTodo;if(null!==o)return t.todos[o]}},hasSubTodos:function(t){return function(e){return t.todos[e].subTodos.length>0}}},plugins:[Object(H["a"])()]}),K=G;i["a"].config.productionTip=!1,new i["a"]({store:K,render:function(t){return t(L)}}).$mount("#app")},"5ae2":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"time-field",class:{"time-field--extended":t.extended}},[t.extended?o("div",{staticClass:"time-field__label"},[t._v("\n    Time Needed\n  ")]):t._e(),o("div",{staticClass:"todo-btn__container",on:{dblclick:t.openModal}},[o("div",{staticClass:"time-field__val time-needed"},[o("span",[t._v(t._s(t.timeStr))])]),t.extended?o("TodoButton",{attrs:{type:"edit"},nativeOn:{click:function(e){t.isEditing=!0}}}):t._e(),t.isEditing?o("TimeNeededModal",{on:{close:t.closeModal,input:function(e){return t.$emit("input",t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)])},n=[],d=(o("c5f6"),o("bbc0")),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[o("div",{ref:"modal",staticClass:"vdatetime-overlay modal",on:{click:t.close}},[o("div",{staticClass:"vdatetime-popup"},[o("div",{staticClass:"vdatetime-popup__header"},[o("div",{staticClass:"header__hours header__time"},[t._v(t._s(t.strHours+" hours"))]),o("div",{staticClass:"header__minutes header__time"},[t._v(t._s(t.strMinutes+" minutes"))])]),o("div",{staticClass:"vdatetime-popup__body time-needed"},[o("div",{staticClass:"time-needed__time"},[o("div",{staticClass:"time__label"},[t._v("\n                    Hours\n                  ")]),o("div",{staticClass:"time__input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],ref:"hours",attrs:{type:"number",placeholder:"0"},domProps:{value:t.hours},on:{input:[function(e){e.target.composing||(t.hours=e.target.value)},t.validateHours]}})])]),o("div",{staticClass:"time-needed__time"},[o("div",{staticClass:"time__label"},[t._v("\n                    Minutes\n                  ")]),o("div",{staticClass:"time__input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.minutes},on:{input:[function(e){e.target.composing||(t.minutes=e.target.value)},t.validateMinutes]}})])])]),o("div",{staticClass:"vdatetime-popup__actions"},[o("div",{staticClass:"vdatetime-popup__actions__button vdatetime-popup__actions__button--cancel",on:{click:function(e){return t.$emit("close")}}},[t._v("\n              Cancel\n            ")]),o("div",{staticClass:"vdatetime-popup__actions__button vdatetime-popup__actions__button--confirm",on:{click:t.submit}},[t._v("\n              Ok\n            ")])])])])])},r=[],a=o("e814"),u=o.n(a),c={props:["value"],data:function(){return{hours:this.parseHours(this.value),minutes:this.parseMins(this.value)}},computed:{strHours:function(){return this.getStrTime(this.hours)},strMinutes:function(){return this.getStrTime(this.minutes)}},methods:{parseMins:function(t){if(t&&!isNaN(t)){var e=u()(t)%60;return e>0?e:void 0}},parseHours:function(t){if(t&&!isNaN(t)&&0!=t){var e=Math.floor(u()(t)/60);return e>0?e:void 0}},validateHours:function(){this.hours=this.hours>1e4?1e4:this.hours<0?0:u()(this.hours)},validateMinutes:function(){this.minutes=this.minutes>59?59:this.minutes<0?0:u()(this.minutes)},getStrTime:function(t){return!t||isNaN(t)?0:t},calculateMinutes:function(){var t=this.getStrTime(this.hours),e=this.getStrTime(this.minutes);return 60*t+e},submit:function(){this.$emit("input",this.calculateMinutes()),this.$emit("close")},close:function(t){t.target==this.$refs.modal&&this.$emit("close")}},mounted:function(){this.$refs.hours.focus()}},l=c,m=(o("486f"),o("2877")),p=Object(m["a"])(l,s,r,!1,null,"6936cef1",null),f=p.exports,h=o("8f14"),_=o.n(h),v=_.a.humanizer({language:"shortEn",languages:{shortEn:{h:function(){return"h"},m:function(){return"m"}}}}),T={components:{TodoButton:d["a"],TimeNeededModal:f},props:{value:Number,extended:Boolean},data:function(){return{isEditing:!1}},computed:{timeStr:function(){return this.value&&0!=this.value?v(6e4*this.value,{units:["h","m"]}):"? hours"}},methods:{openModal:function(){this.isEditing=!0,this.$emit("open",!0)},closeModal:function(t){this.isEditing=!1,this.$emit("open",!1)}}},g=T,b=(o("7fc9"),Object(m["a"])(g,i,n,!1,null,"39011198",null));e["a"]=b.exports},"7fc9":function(t,e,o){"use strict";var i=o("fb93"),n=o.n(i);n.a},"885d":function(t,e,o){"use strict";var i=o("0c69"),n=o.n(i);n.a},9842:function(t,e,o){"use strict";var i=o("088a"),n=o.n(i);n.a},"998e":function(t,e,o){},"9df6":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit"},["title"==t.input?o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.editProp,expression:"editProp",modifiers:{trim:!0}}],ref:"edit",attrs:{placeholder:"Add a title",type:"text"},domProps:{value:t.editProp},on:{blur:[t.onEditBlur,function(e){return t.$forceUpdate()}],keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditTodo(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditTodo(e)}],input:function(e){e.target.composing||(t.editProp=e.target.value.trim())}}}):t._e(),"description"==t.input?o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.editProp,expression:"editProp",modifiers:{trim:!0}}],ref:"edit",attrs:{placeholder:"Add a description"},domProps:{value:t.editProp},on:{blur:[t.onEditBlur,function(e){return t.$forceUpdate()}],keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditTodo(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditTodo(e)}],input:function(e){e.target.composing||(t.editProp=e.target.value.trim())}}}):t._e(),o("button",{attrs:{type:"button"},on:{click:t.finishEditTodo}},[t._v("Ok")]),t._t("default"),o("button",{attrs:{type:"button"},on:{click:t.cancelEditTodo}},[t._v("X")])],2)},n=[],d=o("bd86"),s={props:["todoId","prop","input","placeholder"],data:function(){return{editProp:this.prop,isEditing:!0}},methods:{checkFinishTimeout:function(){this.editBlurTimeoutRunning&&(clearTimeout(this.editBlurTimeout),this.editBlurTimeoutRunning=!1)},cancelEditTodo:function(){this.checkFinishTimeout(),this.prop&&0!==this.prop.length||this.$store.dispatch("removeTodo",this.todoId),this.$store.dispatch("unsetEditing")},finishEditTodo:function(){if(this.checkFinishTimeout(),this.editProp&&0!==this.editProp.length){var t=Object(d["a"])({},this.input,this.editProp);this.$store.dispatch("editTodo",{id:this.todoId,params:t})}else this.$store.dispatch("removeTodo",this.todoId);this.$store.dispatch("unsetEditing"),this.isEditing=!1},onEditBlur:function(){if(this.isEditing){var t=this;this.editBlurTimeoutRunning=!0,this.editBlurTimeout=setTimeout(function(){t.editBlurTimeoutRunning=!1,t.finishEditTodo()},300)}}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.edit.focus()})}},r=s,a=o("2877"),u=Object(a["a"])(r,i,n,!1,null,"c037e60e",null);e["a"]=u.exports},a4db:function(t,e,o){},b3dc:function(t,e,o){"use strict";var i=o("2b1f"),n=o.n(i);n.a},baf6:function(t,e,o){"use strict";var i=o("a4db"),n=o.n(i);n.a},bbc0:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"todo-btn__btn",attrs:{type:"button"}},[t._v(t._s(t.btn))])},n=[],d={name:"TodoButton",props:{type:String},computed:{btn:function(){switch(this.type){case"edit":return"|";default:}}}},s=d,r=(o("03b8"),o("2877")),a=Object(r["a"])(s,i,n,!1,null,null,null);e["a"]=a.exports},cf05:function(t,e,o){t.exports=o.p+"img/logo.82b9c7a5.png"},cf25:function(t,e,o){"use strict";var i=o("0cfb"),n=o.n(i);n.a},cfcc:function(t,e,o){"use strict";var i=o("f4a0"),n=o.n(i);n.a},e2b1:function(t,e,o){"use strict";var i=o("998e"),n=o.n(i);n.a},e53e:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"time-field",class:{"time-field--extended":t.extended}},[t.extended?o("div",{staticClass:"time-field__label"},[t._v("\n    Due Date\n  ")]):t._e(),o("div",{staticClass:"todo-btn__container"},[o("div",{staticClass:"time-field__val due-date",on:{dblclick:t.openDatetime}},[o("span",[t._v(t._s(t.dateStr))])]),t.extended?o("TodoButton",{attrs:{type:"edit"},nativeOn:{click:function(e){return t.openDatetime(e)}}}):t._e(),o("Datetime",{ref:"datetime",staticClass:"theme-green",attrs:{type:"datetime","input-id":"datetime","minute-step":5,"min-datetime":t.now.toJSON()},on:{input:function(e){return t.$emit("input",t.date)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])},n=[],d=o("bbc0"),s=o("859b"),r=o("8f14"),a=o.n(r),u=(o("d355"),a.a.humanizer({language:"shortEn",languages:{shortEn:{y:function(){return"y"},mo:function(){return"mo"},w:function(){return"w"},d:function(){return"d"},h:function(){return"h"},m:function(){return"m"},s:function(){return"s"},ms:function(){return"ms"}}}})),c={components:{TodoButton:d["a"],Datetime:s["Datetime"]},props:{value:String,extended:Boolean},data:function(){return{date:this.value,now:new Date}},computed:{dateStr:function(){var t=this.value||"Due ?",e=new Date(t)-this.now;if(e<0)return"Past Due";var o=u(e,{delimiter:" ",units:["mo","d","h"],largest:1,round:!0});return"".concat(o," Left")}},methods:{openDatetime:function(){document.getElementById("datetime").click()},setWatchIsOpen:function(){var t=this;this.$watch(function(){return t.$refs.datetime.isOpen},function(e){t.$emit("open",e)})}},mounted:function(){this.setWatchIsOpen()}},l=c,m=(o("cfcc"),o("885d"),o("2877")),p=Object(m["a"])(l,i,n,!1,null,"060db0a7",null);e["a"]=p.exports},f4a0:function(t,e,o){},f794:function(t,e,o){},fb93:function(t,e,o){}});
//# sourceMappingURL=app.d90256e1.js.map